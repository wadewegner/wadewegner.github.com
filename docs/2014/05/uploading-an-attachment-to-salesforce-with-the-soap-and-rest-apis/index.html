<!DOCTYPE html>
<html lang="">
    <head>
        
        <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="chrome=1">
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="referrer" content="no-referrer">
<meta name="description" content="From the whiteboard to the keyboard">
<title>
Uploading an Attachment to Salesforce With the S O a P and R E S T a P Is - Wade Wegner
</title>



        
        <meta property="og:title" content="Uploading an Attachment to Salesforce with the SOAP and REST APIs - Wade Wegner" />
<meta property="og:type" content="website" />
<meta property="og:description" content="Earlier today a colleague asked me if I had an example of using Python to create an attachment in Salesforce. I didn&#39;t, but that didn&#39;t stop me from creating a couple."/>
<meta property="og:url" content="https://www.wadewegner.com/2014/05/uploading-an-attachment-to-salesforce-with-the-soap-and-rest-apis/"/>
<meta property="og:site_name" content="Wade Wegner"/>




<meta property="og:image" content="https://www.wadewegner.com/home/favicon.ico"/>




        
<link rel="shortcut icon" href="/home/favicon.ico">


        





<link rel="stylesheet" href="/css/main.min.7234953717df3eaff5f4783a8c545c65897f4ac5d802aa4deabcf2538ec29449.css" integrity="sha256-cjSVNxffPq/19Hg6jFRcZYl/SsXYAqpN6rzyU47ClEk=" crossorigin="anonymous" media="screen">




    <link rel="stylesheet" href="/css/screen.css" integrity="" crossorigin="anonymous" media="screen">

        
        
        
        
    </head>
    <body>
        <section id="top" class="section">
            
            <div class="container hero ">
                

<h1 class="bold-title is-1">Blog</h1>


            </div>
            
            <div class="section ">
                
<div class="container">
    <hr>
    <nav class="navbar" role="navigation" aria-label="main navigation">
        
        <a role="button" class="navbar-burger" data-target="navMenu" aria-label="menu" aria-expanded="false" >
          <span aria-hidden="true"></span>
          <span aria-hidden="true"></span>
          <span aria-hidden="true"></span>
        </a>
        <div class="navbar-menu " id="navMenu">
            
            
            
            
            <a class="navbar-item" href="/">
                
                Home
                
            </a>
            
            
            
            <a class="navbar-item" href="/blog/">
                
                All Posts
                
            </a>
            
            
            
            <a class="navbar-item" href="/about/">
                
                About
                
            </a>
            
            
            
        </div>
    </nav>
    <hr>
</div>



                
<div class="container">
    <h2 class="title is-1 top-pad strong-post-title">
        <a href="https://www.wadewegner.com/2014/05/uploading-an-attachment-to-salesforce-with-the-soap-and-rest-apis/">Uploading an Attachment to Salesforce with the SOAP and REST APIs</a>
    </h2>
    <div class="post-data" style="font-weight: bold;">
        May 1, 2014 |
        2 minutes read
    </div>
    
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
</div>

<div class="container markdown top-pad">
    <p>Earlier today a colleague asked me if I had an example of using Python to create an attachment in Salesforce. I didn&rsquo;t, but that didn&rsquo;t stop me from creating a couple. Sadly, our documentation here isn&rsquo;t the greatest. You can look at the <a href="http://www.salesforce.com/us/developer/docs/api_rest/Content/dome_sobject_insert_update_blob.htm">Insert or Update Blob Data</a> for the REST API or <a href="http://www.salesforce.com/us/developer/docs/api/Content/sforce_api_objects_attachment.htm">Attachment</a> for our SOAP API. If you&rsquo;re like me, neither document is good enough; I had to continue to dig around to figure out exactly what I needed.</p>
<p>Nevertheless, I got it working. I&rsquo;d like to share with you two examples: uploading attachments with the REST API and uploading attachments with the SOAP API. For both examples I will use Python.</p>
<p>Why Python?</p>
<p>Well, not only is it fun, but I think Python is also remarkably easy to read. It shouldn&rsquo;t be too much work for you to adjust to your language of choice.</p>
<p>A few things worth nothing before we go to far:</p>
<ol>
<li>You will need to <code>base64</code> encode your file.</li>
<li>An attachment <em>attaches</em> to an object in Salesforce (i.e. Account, Contact, etc.). You&rsquo;ll need to know the <code>Id</code> (called the <code>ParentId</code>) to which you want to attach.</li>
<li>Python has some great libraries that I&rsquo;m going to use. This has the added benefit of keeping the code really simple and focused on the task of uploading the attachment.</li>
</ol>
<p>Without further ado &hellip;</p>

<h4 id="python-and-attachments-with-the-rest-api" class="anchor-link"><a href="#python-and-attachments-with-the-rest-api">Python and Attachments with the REST API</a></h4>
<script src="https://gist.github.com/wadewegner/df609a495df2e4bd7a07.js?file=upload_rest.py"></script>
<p>To run this script you&rsquo;ll need to do the following:</p>
<ul>
<li>Create a <code>text.txt</code> file in the same directory as the Python script.</li>
<li>Add your user name, password, and security token.</li>
<li>Install <code>simple_salesforce</code> with <code>pip install simple_salesforce</code>. I recommend you first use <a href="https://pypi.python.org/pypi/virtualenv">virtualenv</a> to manage your environment.</li>
<li>Update the <code>instance</code> value (or extract it from the login info).</li>
</ul>
<p>The code is pretty straightforward. <a href="https://pypi.python.org/pypi/simple-salesforce/">simple_salesforce</a> is great when you want to quickly work with the REST API.</p>

<h4 id="python-and-attachments-with-the-soap-api" class="anchor-link"><a href="#python-and-attachments-with-the-soap-api">Python and Attachments with the SOAP API</a></h4>
<script src="https://gist.github.com/wadewegner/df609a495df2e4bd7a07.js?file=upload_soap.py"></script>
<p>To run this script you&rsquo;ll need to do the following:</p>
<ul>
<li>Create a <code>text.txt</code> file in the same directory as the Python script.</li>
<li>Add your user name, password, and security token.</li>
<li>Install <code>beatbox</code> with <code>pip install beatbox</code>. I recommend you first use <a href="https://pypi.python.org/pypi/virtualenv">virtualenv</a> to manage your environment.</li>
</ul>
<p>Again, this code is pretty straightforward. <a href="https://pypi.python.org/pypi/beatbox/20.0">beatbox</a> is a fantastic way to interact with the SOAP API.</p>
<p>It&rsquo;s likely over time I&rsquo;ll learn more that I should add to this post. For now, I&rsquo;ll leave it as it is; hopefully someone finds it useful.</p>
<p>Enjoy!</p>

</div>


    <div class="container disqus">
        <div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "wadewegner" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
    </div>



                
                <div class="container">
    <hr>
</div>
<div class="container has-text-centered top-pad">
    <a href="#top">
        <i class="fa fa-arrow-up"></i>
    </a>
</div>

<div class="container">
    <hr>
</div>

                <div class="section" id="footer">
    <div class="container has-text-centered">
    
        <span class="footer-text">
            <a href="https://github.com/victoriadrake/hugo-theme-introduction/"><strong>Introduction</strong></a> theme for <a href="http://gohugo.io/">Hugo</a>. Made with <a href="https://victoria.dev"><i class="fa fa-heart"></i> and <i class="fa fa-coffee"></i></a> by open source contributors.
        </span>
    
    </div>
</div>

                
            </div>
        </section>
        
        


<script src="https://www.wadewegner.com/js/bundle.2ee571453a8980175e10bda96bda797cc9c4e2e745e488df68d50cef5deb57ff.js" integrity="sha256-LuVxRTqJgBdeEL2pa9p5fMnE4udF5IjfaNUM713rV/8="></script>


<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-1174672-2', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>





        
        
        
        
    </body>
</html>
