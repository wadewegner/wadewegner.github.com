<!DOCTYPE html>
<html lang="">
    <head>
        
        <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="chrome=1">
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="referrer" content="no-referrer">
<meta name="description" content="From the whiteboard to the keyboard">
<title>
Windows Azure App Fabric C T P February, Caching Enhancements, and the New L a B S Portal - Wade Wegner
</title>



        
        <meta property="og:title" content="Windows Azure AppFabric CTP February, Caching Enhancements, and the New LABS Portal - Wade Wegner" />
<meta property="og:type" content="website" />
<meta property="og:description" content="From the whiteboard to the keyboard"/>
<meta property="og:url" content="https://www.wadewegner.com/2011/02/windows-azure-appfabric-ctp-february-caching-enhancements-and-the-new-labs-portal/"/>
<meta property="og:site_name" content="Wade Wegner"/>




<meta property="og:image" content="https://www.wadewegner.com/home/favicon.ico"/>




        
<link rel="shortcut icon" href="/home/favicon.ico">


        





<link rel="stylesheet" href="/css/main.min.7234953717df3eaff5f4783a8c545c65897f4ac5d802aa4deabcf2538ec29449.css" integrity="sha256-cjSVNxffPq/19Hg6jFRcZYl/SsXYAqpN6rzyU47ClEk=" crossorigin="anonymous" media="screen">




    <link rel="stylesheet" href="/css/screen.css" integrity="" crossorigin="anonymous" media="screen">

        
        
        
        
    </head>
    <body>
        <section id="top" class="section">
            
            <div class="container hero ">
                

<h1 class="bold-title is-1">Blog</h1>


            </div>
            
            <div class="section ">
                
<div class="container">
    <hr>
    <nav class="navbar" role="navigation" aria-label="main navigation">
        
        <a role="button" class="navbar-burger" data-target="navMenu" aria-label="menu" aria-expanded="false" >
          <span aria-hidden="true"></span>
          <span aria-hidden="true"></span>
          <span aria-hidden="true"></span>
        </a>
        <div class="navbar-menu " id="navMenu">
            
            
            
            
            <a class="navbar-item" href="/">
                
                Home
                
            </a>
            
            
            
            <a class="navbar-item" href="/blog/">
                
                All Posts
                
            </a>
            
            
            
            <a class="navbar-item" href="/about/">
                
                About
                
            </a>
            
            
            
        </div>
    </nav>
    <hr>
</div>



                
<div class="container">
    <h2 class="title is-1 top-pad strong-post-title">
        <a href="https://www.wadewegner.com/2011/02/windows-azure-appfabric-ctp-february-caching-enhancements-and-the-new-labs-portal/">Windows Azure AppFabric CTP February, Caching Enhancements, and the New LABS Portal</a>
    </h2>
    <div class="post-data" style="font-weight: bold;">
        Feb 9, 2011 |
        5 minutes read
    </div>
    
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
</div>

<div class="container markdown top-pad">
    <p>I’m excited to tell you about the Windows Azure AppFabric CTP February release. There are a number of enhancements and improvements coming with this release, including:</p>
<ul>
<li>
<p>New <strong>Silverlight-based LABS portal</strong>, bringing consistency with the production Windows Azure portal.</p>
</li>
<li>
<p>Ability to select either a <strong>128MB or 256MB cache size</strong>.</p>
</li>
<li>
<p>Ability to <strong>dynamically upgrade or downgrade</strong> your cache size.</p>
</li>
<li>
<p><strong>Improved diagnostics</strong> with client side tracing and client request tracking capabilities.</p>
</li>
<li>
<p>Overall <strong>performance improvements</strong>.</p>
</li>
</ul>
<p>When you land on the new portal page you’ll see an experience consistent with the production Windows Azure portal – in fact, this release moves us one step closer to merging the Windows Azure AppFabric portal experiences into the same portal as Windows Azure and SQL Azure.</p>
<p>In the LABS portal, the CTP environment only lights-up <strong>Service Bus, Access Control &amp; Caching</strong>.</p>
<p><img src="https://wadewegner.blob.core.windows.net/wordpress/2011/02/Picture-0.png" alt="Picture 0"></p>
<p>Once you select <strong>Service Bus, Access Control &amp; Caching</strong>, you’ll land on the primary Windows Azure AppFabric page, where you can get access to SDKs, documentation, and other help &amp; resources.</p>
<p><img src="https://wadewegner.blob.core.windows.net/wordpress/2011/02/Picture-1.png" alt="Picture 1"></p>
<p>Be sure download the updated Windows Azure AppFabric SDK – you can find it at <a href="http://go.microsoft.com/fwlink/?LinkID=184288">http://go.microsoft.com/fwlink/?LinkID=184288</a> (or click the link on the portal).</p>
<blockquote>
<p><strong>Note</strong>: Make sure you don’t have the Windows Server AppFabric Cache already installed on your machine. While the API is symmetric, the current assemblies are not compatible. In fact, the Windows Server AppFabric GAC’s the Caching assemblies, so your application will load the wrong assemblies. This will be resolved by the time the service goes into production, but for now it causes a bit of friction.</p>
</blockquote>
<p><img src="https://wadewegner.blob.core.windows.net/wordpress/2011/02/image.png" alt="image"></p>
<p>To create a Cache, select the <strong>Cache</strong> under <strong>AppFabric</strong> …</p>
<p><img src="https://wadewegner.blob.core.windows.net/wordpress/2011/02/image1.png" alt="image"></p>
<p>… and then click <strong>New Namespace</strong>. In doing so you will have to create a labs subscription.</p>
<p><img src="https://wadewegner.blob.core.windows.net/wordpress/2011/02/Picture-2.5.png" alt="Picture 2.5"></p>
<p>Note that if you do not select <strong>Cache</strong> and instead stay at the top of the tree on <strong>AppFabric</strong> you will only create <strong>Access Control</strong> and <strong>Service Bus</strong> in your namespace.</p>
<p>In the CTP, you only have control over the <strong>Service Namespace</strong> and the <strong>Cache Size</strong> – the other options are bound to the defaults.</p>
<p><img src="https://wadewegner.blob.core.windows.net/wordpress/2011/02/Picture-3a.png" alt="Picture 3a"></p>
<p>For the option size, your choices are <strong>128MB Cache</strong> and <strong>256MB Cache</strong>. When this service moves into production, more cache sizes will be made available. Once you have made your selection, click <strong>OK</strong> to create your cache.</p>
<p><img src="https://wadewegner.blob.core.windows.net/wordpress/2011/02/Picture-6.png" alt="Picture 6"></p>
<p>It only takes about 10-15 seconds to provision your cache in the background. When complete, you have a fully functional, distributed cache available to your applications. That’s all it takes! This is the magic of the Platform-as-a-Service model – if you were to have done this yourself in a set of Windows Azure instances, I guarantee it would take you a LOT more than 10-15 seconds.</p>
<p><img src="https://wadewegner.blob.core.windows.net/wordpress/2011/02/Picture-7.png" alt="Picture 7"></p>
<p>Once the cache is provisioned, you can expand the <strong>Properties</strong> to get specific information about your cache. This provides you useful information such as <strong>Namespace</strong>, <strong>Service URL</strong>, <strong>Service Port</strong>, and <strong>Authentication Token</strong>.</p>
<p><img src="https://wadewegner.blob.core.windows.net/wordpress/2011/02/Picture-10a.png" alt="Picture 10a"></p>
<p>There are a few more capabilities now available from the portal – specifically, <strong>Access Control Service</strong>, <strong>View Client Configuration</strong>, and <strong>Change Cache Size</strong>. If you take a look at <strong>Change Cache Size</strong>, you’ll see that you can switch between a 128MB and 256 MB Cache once a day (note that the functionality is disabled if you’ve already performed this operation).</p>
<p><img src="https://wadewegner.blob.core.windows.net/wordpress/2011/02/Picture-9a.png" alt="Picture 9a"></p>
<p>In addition to changing the cache size, you can also grab the client configuration XML from <strong>View Client Configuration</strong>.</p>
<p><img src="https://wadewegner.blob.core.windows.net/wordpress/2011/02/Picture-8a.png" alt="Picture 8a"></p>
<p>This configuration is extremely valuable for when you’re developing your application, as you can leverage this code directly in your App.Config or Web.Config file. In fact, go ahead</p>
<p>To begin, let’s create a simple Console Application using C#. Once created, be sure and update the project so that it targets the full .NET Framework instead of the Client Profile. You’ll also need to add the Caching assemblies, which can typically be found under C:Program FilesWindows Azure AppFabric SDKV2.0AssembliesCache. For now, add the following two assemblies:</p>
<ul>
<li>
<p>Microsoft.ApplicationServer.Caching.Client</p>
</li>
<li>
<p>Microsoft.ApplicationServer.Caching.Core</p>
</li>
</ul>
<p>Open up the App.Config and paste in the configuration from the portal. Once added, it should look like the following:</p>
<pre><code>  1. &lt;?xml version=&quot;1.0&quot;?&gt;
  2. &lt;configuration&gt;
  3.   &lt;configSections&gt;
  4.     &lt;section name=&quot;dataCacheClient&quot; type=&quot;Microsoft.ApplicationServer.Caching.DataCacheClientSection, Microsoft.ApplicationServer.Caching.Core&quot; allowLocation=&quot;true&quot; allowDefinition=&quot;Everywhere&quot;/&gt;
  5.   &lt;/configSections&gt;
  6.   &lt;dataCacheClient deployment=&quot;Simple&quot;&gt;
  7.     &lt;hosts&gt;
  8.       &lt;host name=&quot;YOURCACHE.cache.appfabriclabs.com&quot; cachePort=&quot;22233&quot; /&gt;
  9.     &lt;/hosts&gt;
  10.     &lt;securityProperties mode=&quot;Message&quot;&gt;
  11.       &lt;messageSecurity
  12.           authorizationInfo=&quot;YOURTOKEN&quot;&gt;
  13.       &lt;/messageSecurity&gt;
  14.     &lt;/securityProperties&gt;
  15.   &lt;/dataCacheClient&gt;
  16. &lt;/configuration&gt;
</code></pre>
<p>Now let’s update the Main method of our Console application with a very simple demonstration:</p>
<pre><code>  1. static void Main(string[] args)
  2. {
  3.     // setup the DataCacheFactory using the app.config settings
  4.     DataCacheFactory dataCacheFactory = new DataCacheFactory();

  6.     // get the default cache client 
  7.     DataCache dataCache = dataCacheFactory.GetDefaultCache();

  9.     // enter a value to store in the cache
  10.     Console.Write(&quot;Enter a value: &quot;);
  11.     string value = Console.ReadLine();

  13.     // put your value in the cache
  14.     dataCache.Put(&quot;key&quot;, value);

  16.     // get your value out of the cache
  17.     string response = (string)dataCache.Get(&quot;key&quot;);

  19.     // write the value
  20.     Console.WriteLine(&quot;Your value: &quot; + response);
  21. }
</code></pre>
<p>You can see that all we have to do is create a new instance of the DataCacheFactory, and all the configuration settings in the app.config file are read in by default. The end result is a simple Console application:</p>
<p><img src="https://wadewegner.blob.core.windows.net/wordpress/2011/02/Picture-11.png" alt="Picture 11"></p>
<p>A simple demonstration, but hopefully valuable.</p>
<p>Please take a look at the <a href="http://portal.appfabriclabs.com/">Windows Azure AppFabric CTP February release</a> as soon as possible, and explore the new capabilities and features provided in the Caching service.</p>

</div>


    <div class="container disqus">
        <div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "wadewegner" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
    </div>



                
                <div class="container">
    <hr>
</div>
<div class="container has-text-centered top-pad">
    <a href="#top">
        <i class="fa fa-arrow-up"></i>
    </a>
</div>

<div class="container">
    <hr>
</div>

                <div class="section" id="footer">
    <div class="container has-text-centered">
    
        <span class="footer-text">
            <a href="https://github.com/victoriadrake/hugo-theme-introduction/"><strong>Introduction</strong></a> theme for <a href="http://gohugo.io/">Hugo</a>. Made with <a href="https://victoria.dev"><i class="fa fa-heart"></i> and <i class="fa fa-coffee"></i></a> by open source contributors.
        </span>
    
    </div>
</div>

                
            </div>
        </section>
        
        


<script src="https://www.wadewegner.com/js/bundle.2ee571453a8980175e10bda96bda797cc9c4e2e745e488df68d50cef5deb57ff.js" integrity="sha256-LuVxRTqJgBdeEL2pa9p5fMnE4udF5IjfaNUM713rV/8="></script>


<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-1174672-2', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>





        
        
        
        
    </body>
</html>
